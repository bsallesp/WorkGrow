{
  "$schema": "../../../schemas/hook-schema.json",
  "meta": {
    "technology": "React",
    "topic": "Hooks",
    "sub_topic": "Utility Hooks",
    "version": "19.0.0",
    "doc_url": "https://react.dev/reference/react/useId"
  },
  "taxonomy": {
    "difficulty": "Beginner",
    "tags": ["accessibility", "forms", "ssr", "hydration"],
    "prerequisites": ["HTML Forms", "Accessibility (a11y)"]
  },
  "mental_model": {
    "analogy": "Ticket Number Generator",
    "explanation": "Imagine a ticket machine that gives a unique number to every customer. It ensures that the number given when you bought the ticket online (Server) matches the number on your ticket when you arrive at the venue (Client), preventing confusion."
  },
  "real_world_use_cases": [
    "Linking form labels to inputs (`htmlFor` and `id`) in reusable components.",
    "Associating `aria-describedby` text with an element for screen readers.",
    "Generating unique IDs for SVG gradients or masks that need to be referenced by ID."
  ],
  "related_concepts": [
    { "concept": "Math.random()", "relationship": "The bad way to generate IDs (causes hydration mismatches)." },
    { "concept": "Hydration", "relationship": "The process where useId guarantees consistency between server HTML and client JavaScript." }
  ],
  "concepts": [
    {
      "id": "use_id_definition",
      "name": "Definition",
      "type": "concept",
      "description": "useId is a Hook for generating unique IDs that can be passed to accessibility attributes.",
      "details": [
        "It returns a string like `:r1:`, `:r2:`, etc.",
        "It guarantees that the ID is stable (doesn't change on re-renders) and unique across the component tree.",
        "Crucially, it generates the *same* ID on the server and the client, preventing hydration mismatch errors."
      ],
      "code_example": {
        "snippet": "function PasswordField() {\n  const passwordHintId = useId();\n  return (\n    <>\n      <label>\n        Password:\n        <input\n          type=\"password\"\n          aria-describedby={passwordHintId}\n        />\n      </label>\n      <p id={passwordHintId}>\n        The password should contain at least 18 characters\n      </p>\n    </>\n  );\n}",
        "explanation": "This ensures the input is correctly linked to the description for screen readers, without hardcoding IDs that might collide if PasswordField is used twice."
      }
    },
    {
      "id": "css_selector_warning",
      "name": "CSS Selector Warning",
      "type": "anti_pattern",
      "description": "The IDs generated by useId contain colons (`:`) which are special characters in CSS.",
      "details": [
        "Do NOT use these IDs for CSS styling (e.g., `#root :r1: { ... }`).",
        "If you try to use `document.querySelector`, you will need to escape the colons.",
        "Use `useId` strictly for linking DOM attributes (ARIA, labels), not for styling hooks."
      ]
    }
  ]
}
